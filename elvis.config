%% SPDX-License-Identifier: BSD-3-Clause
%% SPDX-FileCopyrightText: 2025 Erlang Ecosystem Foundation

[
    {elvis, [
        {config, [
            #{
                dirs => ["src"],
                filter => "*.erl",
                ruleset => erl_files,
                rules =>
                    %% Line length is the job of the formatter
                    [
                        {elvis_text_style, line_length, #{limit => 1_000}},
                        %% We're exposing records
                        {elvis_style, private_data_types, #{apply_to => []}},
                        %% Increase min complexity for repeating code
                        {elvis_style, dont_repeat_yourself, #{min_complexity => 20}},
                        %% Naming is dictated by Standard
                        {elvis_style, atom_naming_convention, #{regex => ".*"}},
                        {elvis_style, variable_naming_convention, #{regex => ".*"}}
                    ]
            },
            #{
                dirs => ["test"],
                filter => "*.erl",
                ruleset => erl_files,
                rules =>
                    %% Line length is the job of the formatter
                    [
                        {elvis_text_style, line_length, #{limit => 1_000}},
                        %% Tests are ok to repeat
                        {elvis_style, dont_repeat_yourself, #{min_complexity => 10_000}},
                        {elvis_style, god_modules, #{limit => 1_000}}
                    ]
            },
            #{
                dirs => ["."],
                filter => "rebar.config",
                ruleset => rebar_config
            },
            #{
                dirs => ["."],
                filter => "elvis.config",
                ruleset => elvis_project
            }
        ]}
    ]}
].
